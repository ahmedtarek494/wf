<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Admin HomePage</title>
	<meta name="author" content="Riccardo Massera"></meta>


<script type="text/javascript">

function showDataContaner(data){
			console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa: " + JSON.stringify(data));
			var ajaxloader = document.getElementById("ajaxloader");
		
			
			if (data.status == 'begin'){
			
				console.log('begin');
				ajaxloader.style.display= 'inline-block';
				
		
			}else if (data.status == 'complete'){
				ajaxloader.style.display = 'none';
				console.log('complete');
			
			} else{
				console.log("else data.status : " + data.status );
			}
		}

</script>
</h:head>
<h:body style="padding-top: 60px">

	<!-- Comman navbar layout -->
	<ui:insert>
		<ui:include src="commanNavBarLayout.xhtml"></ui:include>
	</ui:insert>
	<b:container fluid="true">
		<b:row>


			<!-- admin sidebar layout -->
			<ui:insert>
				<ui:include src="adminSideBarLayout.xhtml"></ui:include>
			</ui:insert>
			
			
			<!-- content -->
			<b:column col-sm="9" offset-sm="3" col-md="10" offset="2" styleClass="main">
			<h1>Dashboard</h1>
            <hr/>
			
			<!-- two equal column -->
<h:form>        
<h:panelGroup id="panelgroupbody">


                 
	        <b:row styleClass="show-grid" style="display: inline;">
                    <h:commandButton styleClass="btn btn-primary" id="linkStudent" type="submit" value="Student in class" style="width:50%">
                  <f:ajax  onevent="showDataContaner" event="click"  listener="#{adminHomePageView.handleAjaxStudent}"  execute="StudentForm GradeForm" render="panelgroupbody" /> 
                    </h:commandButton>
                    <h:commandButton styleClass="btn btn-info" id="linkGrade" type="submit" value="Grades of students" style="width:50%">
                 <f:ajax  event="click"  listener="#{adminHomePageView.handleAjaxGrade}" execute="StudentForm GradeForm" render="panelgroupbody"  /> 

                    </h:commandButton>
            </b:row>
        
           <img id="ajaxloader"  src="131.gif" style="display: none;"/>

            <h:panelGroup  id="StudentForm" rendered="#{adminHomePageView.student and !adminHomePageView.grade}" >
            
             <b:dropButton value="Dropup" drop="up">
      <b:navLink value="Action" href="#"></b:navLink>
      <b:navLink value="Another action" href="#"></b:navLink>
  <b:navLink value="Something else here" href="#"></b:navLink>
    <b:navLink></b:navLink>
  
</b:dropButton>
                        
            <b:row styleClass="table-responsive">
                        <h:dataTable styleClass="table table-striped" value="#{adminHomePageView.userslistdto}" var="item" rows="15">
                            <h:column>
                                <f:facet name="header"><h:outputText value="ID" /></f:facet>
                                <h:outputText value="#{item.id}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header"><h:outputText value="Name" /></f:facet>
                                <h:outputText value="#{item.name}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header"><h:outputText value="Center" /></f:facet>
                                <h:outputText value="#{item.center.centername}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header"><h:outputText value="Mobile" /></f:facet>
                                <h:outputText value="#{item.mobilenumber}" />
                            </h:column>
                           
                        </h:dataTable>
                    </b:row>
			
			</h:panelGroup>
			<h:panelGroup id="GradeForm" rendered="#{!adminHomePageView.student and adminHomePageView.grade}">
            
            <b:row styleClass="table-responsive">
                        <h:dataTable styleClass="table table-striped" value="#{loremIpsumBean.items}" var="item" rows="15">
                            <h:column>
                                <f:facet name="header"><h:outputText value="#" /></f:facet>
                                <h:outputText value="#{item.h1}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header"><h:outputText value="Grades" /></f:facet>
                                <h:outputText value="#{item.h2}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header"><h:outputText value="Name" /></f:facet>
                                <h:outputText value="#{item.h3}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header"><h:outputText value="ID" /></f:facet>
                                <h:outputText value="#{item.h4}" />
                            </h:column>
                            <h:column>
                                <f:facet name="header"><h:outputText value="Grade" /></f:facet>
                                <h:outputText value="#{item.h5}" />
                            </h:column>
                        </h:dataTable>
                    </b:row>
			
			</h:panelGroup>
</h:panelGroup>			

			</h:form>
			
	
			
			</b:column>
		</b:row>
	</b:container>
	
	
	
	<style>
	                    .show-grid [class^="col-"] {
                        background-color: rgba(86, 61, 124, 0.15);
                        border: 1px solid rgba(86, 61, 124, 0.2);
                        padding-bottom: 10px;
                        padding-top: 10px;
                        //margin-bottom: 15px;
                    }
	</style>
</h:body>
</html>